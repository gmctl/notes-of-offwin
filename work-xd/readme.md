#  2020-3-22 工作内容概要

##  关于 SE-MA 后续需要解决的问题 
-  **suri告警消息中文化、可理解转化**
>  当前使用无限制翻译的破解版google翻译需要翻墙，正在尝试使用破解版的有道翻译方便后期产品化能快速生成一个简易版本的翻译，接着修改。
> 有道翻译不破解的化免费翻译100W个单词。明天尝试对全部的一万条规则进行初步翻译。
- **MA产品化的相关接口准备**
> 在后面会进行说明

##  关于日志对接的内容和处理方式 

- 安全检测日志 
    -  **网站攻击检测日志**  `网络扫描/ 信息嗅探/ web攻击/  Dos攻击/ 信息泄露/  恶意程序/ 社工库/ 网络钓鱼/  shellcode/ 混合攻击/ C2通信等`
    -  **漏洞利用攻击检测日志**  `CVE漏洞利用攻击`
    - **僵尸网络检测日志**  `特洛伊木马通信`
    - __业务弱点发现日志__     `被动检测和扫描探测，nmap/prads` 
     > 这里存在的疑问是 什么叫网站攻击，比如扫描、端口嗅探等不是http类型的日志不是不属于网站攻击，当然我的理解是网络攻击。
     
- 访问检测日志 
    - **正常访问日志**     `登录成功 (相关针对某些app的成功访问相关审计规则缺失)`
    - **风险访问 / 违规访问**   `尝试登录失败/ 默认密码登录/ 潜在隐私策略违规/  成功获取用户管理员权限`

- 协议审计日志 
    -  `http/dns/ad域/smb/邮件/ad域渗透/tls.... `  __  `协议命令解码/  协议相关告警日志`
    > 当前对常见的tcp协议都有了关于协议类型的审计，以及关于协议类型下的告警日志。
    > 但是不足的是 [AD域](https://blog.51cto.com/14206911/2429484)相关的审计日志目前获取不到。

## MA 接口开发准备
- 系统管理 
    - **系统设置**      主机时间/ 已经拦截多少条/  引擎状态/ 重要服务和进程状态/ 规则库/扫描特征库信息(启用了多少条, 最近版本)
    - **网络设置**      网卡编辑/  网卡历史流量/ 网卡实时流量  __防火墙联动流量控制__
    -  **通知设置**     邮箱告警设置
    -  **日志发送设置**    `设置日志syslog发送`; 这里准备参考[爱奇艺网络监控系统](https://github.com/iqiyi/qnsm)，引入kafka队列来存储各种类型的日志发送，正在研究中。
    -  **性能监控**    MA监控的相关接口，例如cpu/内存/数据盘等占用情况- __后期对接 `snmpV3`__
    -  **系统信息**  设备名称/ 序列号/ 版本/ 运行时长/ 工作模式(IDS模式+端口镜像、bypass、__串接IPS__)
    -  **安管平台接入设置**   安管平台的ip,  可信的连接公钥，MA和平台通信的凭证

- 审计管理 
    -  __安全日志查看__  内容就是上面日志划分的类型。后面需要增加联合attck模型的日志链查看。
    -  __MA接口审计日志__  MA接口的访问审计。

- 安全管理
    -  **安全策略** 规则概览，规则模板，特征库/规则库更新 , 系统升级  
    - **安全策略基准** 主动探测的周期、探测目标、探测端口等设置

>  其中关于系统管理和安全管理相关的接口我都写的差不多了; 可以直接获取和使用。